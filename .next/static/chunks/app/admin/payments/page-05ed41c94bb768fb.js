(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[170],{2809:function(e,s,a){Promise.resolve().then(a.bind(a,6046))},6046:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return D}});var t=a(7437),i=a(2265),r=a(7815),l=a(5754),c=a(826),n=a(5195),d=a(6264),o=a(1981),m=a(4280),x=a(3223),h=a(1827),j=a(9670),u=a(3008),p=a(1291),g=a(7158);function N(e){let{showFilters:s=!0,showActions:a=!0}=e,[N,v]=(0,i.useState)([]),[f,y]=(0,i.useState)({page:1,limit:20,total:0,pages:0}),[b,w]=(0,i.useState)(!0),[Z,C]=(0,i.useState)(!1),[S,z]=(0,i.useState)(null),[P,E]=(0,i.useState)({status:"",clientId:"",professionalId:"",dateFrom:"",dateTo:"",search:""});(0,i.useEffect)(()=>{_()},[f.page,P]);let _=async()=>{try{C(!0);let e={page:f.page,limit:f.limit,...Object.fromEntries(Object.entries(P).filter(e=>{let[s,a]=e;return""!==a}))},s=await c.ST.getAllPayments(e);s.data.success?(v(s.data.data),y(s.data.pagination),z(null)):z(s.data.error||"Error al cargar pagos")}catch(a){var e,s;z((null===(s=a.response)||void 0===s?void 0:null===(e=s.data)||void 0===e?void 0:e.error)||"Error interno del servidor")}finally{w(!1),C(!1)}},k=async(e,s)=>{if(confirm("\xbfEst\xe1 seguro de liberar los fondos de este pago?"))try{let a=await c.ST.releaseFunds(e,s);a.data.success?_():z(a.data.error||"Error al liberar fondos")}catch(e){var a,t;z((null===(t=e.response)||void 0===t?void 0:null===(a=t.data)||void 0===a?void 0:a.error)||"Error al liberar fondos")}},A=(e,s)=>{E(a=>({...a,[e]:s})),y(e=>({...e,page:1}))};return b?(0,t.jsx)(r.Zb,{className:"w-full",children:(0,t.jsxs)(r.aY,{className:"flex items-center justify-center py-8",children:[(0,t.jsx)(d.Z,{className:"w-6 h-6 animate-spin mr-2"}),(0,t.jsx)("span",{children:"Cargando pagos..."})]})}):S?(0,t.jsx)(r.Zb,{className:"w-full",children:(0,t.jsx)(r.aY,{className:"py-8",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(o.Z,{className:"w-12 h-12 text-danger-600 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-medium text-danger-800 mb-2",children:"Error"}),(0,t.jsx)("p",{className:"text-danger-600 mb-4",children:S}),(0,t.jsxs)(l.z,{onClick:_,variant:"outline",children:[(0,t.jsx)(m.Z,{className:"w-4 h-4 mr-2"}),"Reintentar"]})]})})}):(0,t.jsxs)(r.Zb,{className:"w-full",children:[(0,t.jsxs)(r.Ol,{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)(r.ll,{className:"flex items-center",children:[(0,t.jsx)(x.Z,{className:"w-5 h-5 mr-2"}),"Gesti\xf3n de Pagos"]}),(0,t.jsxs)(r.SZ,{children:[f.total," pagos totales â€¢ P\xe1gina ",f.page," de ",f.pages]})]}),(0,t.jsxs)(l.z,{onClick:_,disabled:Z,variant:"outline",size:"sm",children:[Z?(0,t.jsx)(d.Z,{className:"w-4 h-4 mr-2 animate-spin"}):(0,t.jsx)(m.Z,{className:"w-4 h-4 mr-2"}),"Actualizar"]})]}),s&&(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mt-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Buscar"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(h.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,t.jsx)("input",{type:"text",placeholder:"Cliente, profesional...",value:P.search,onChange:e=>A("search",e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary-500 focus:border-transparent text-sm"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estado"}),(0,t.jsxs)("select",{value:P.status,onChange:e=>A("status",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary-500 focus:border-transparent text-sm",children:[(0,t.jsx)("option",{value:"",children:"Todos los estados"}),(0,t.jsx)("option",{value:"pendiente",children:"Pendiente"}),(0,t.jsx)("option",{value:"aprobado",children:"Aprobado"}),(0,t.jsx)("option",{value:"liberado",children:"Liberado"}),(0,t.jsx)("option",{value:"rechazado",children:"Rechazado"}),(0,t.jsx)("option",{value:"cancelado",children:"Cancelado"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Desde"}),(0,t.jsx)("input",{type:"date",value:P.dateFrom,onChange:e=>A("dateFrom",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary-500 focus:border-transparent text-sm"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hasta"}),(0,t.jsx)("input",{type:"date",value:P.dateTo,onChange:e=>A("dateTo",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary-500 focus:border-transparent text-sm"})]})]}),Object.values(P).some(e=>""!==e)&&(0,t.jsx)("div",{className:"mt-2",children:(0,t.jsx)(l.z,{onClick:()=>{E({status:"",clientId:"",professionalId:"",dateFrom:"",dateTo:"",search:""}),y(e=>({...e,page:1}))},variant:"ghost",size:"sm",children:"Limpiar filtros"})})]}),(0,t.jsxs)(r.aY,{children:[0===N.length?(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)(x.Z,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No hay pagos"}),(0,t.jsx)("p",{className:"text-gray-600",children:"No se encontraron pagos con los filtros aplicados"})]}):(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full text-sm",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b bg-gray-50",children:[(0,t.jsx)("th",{className:"text-left p-3 font-medium text-gray-700",children:"ID"}),(0,t.jsx)("th",{className:"text-left p-3 font-medium text-gray-700",children:"Cliente"}),(0,t.jsx)("th",{className:"text-left p-3 font-medium text-gray-700",children:"Profesional"}),(0,t.jsx)("th",{className:"text-left p-3 font-medium text-gray-700",children:"Servicio"}),(0,t.jsx)("th",{className:"text-left p-3 font-medium text-gray-700",children:"Monto"}),(0,t.jsx)("th",{className:"text-left p-3 font-medium text-gray-700",children:"Estado"}),(0,t.jsx)("th",{className:"text-left p-3 font-medium text-gray-700",children:"Fecha"}),a&&(0,t.jsx)("th",{className:"text-left p-3 font-medium text-gray-700",children:"Acciones"})]})}),(0,t.jsx)("tbody",{children:N.map(e=>{var s,i,r,c,d,o;return(0,t.jsxs)("tr",{className:"border-b hover:bg-gray-50",children:[(0,t.jsx)("td",{className:"p-3",children:(0,t.jsxs)("span",{className:"font-mono text-xs",children:[e.id.slice(0,8),"..."]})}),(0,t.jsx)("td",{className:"p-3",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium text-gray-900",children:null===(s=e.servicio)||void 0===s?void 0:s.cliente.nombre}),(0,t.jsx)("div",{className:"text-xs text-gray-600",children:null===(i=e.servicio)||void 0===i?void 0:i.cliente.email})]})}),(0,t.jsx)("td",{className:"p-3",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium text-gray-900",children:null===(r=e.servicio)||void 0===r?void 0:r.profesional.nombre}),(0,t.jsx)("div",{className:"text-xs text-gray-600",children:null===(c=e.servicio)||void 0===c?void 0:c.profesional.email})]})}),(0,t.jsx)("td",{className:"p-3",children:(0,t.jsx)("div",{className:"max-w-xs truncate",title:null===(d=e.servicio)||void 0===d?void 0:d.descripcion,children:null===(o=e.servicio)||void 0===o?void 0:o.descripcion})}),(0,t.jsx)("td",{className:"p-3",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium text-gray-900",children:(0,n.xG)(e.monto_total)}),(0,t.jsxs)("div",{className:"text-xs text-gray-600",children:["Comisi\xf3n: ",(0,n.xG)(e.comision_plataforma)]})]})}),(0,t.jsx)("td",{className:"p-3",children:(0,t.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat((0,n.Dx)(e.estado)),children:(0,n.Ny)(e.estado)})}),(0,t.jsx)("td",{className:"p-3 text-gray-600",children:(0,n.o0)(e.creado_en)}),a&&(0,t.jsx)("td",{className:"p-3",children:(0,t.jsxs)("div",{className:"flex space-x-2",children:[(0,t.jsx)(l.z,{variant:"ghost",size:"sm",children:(0,t.jsx)(j.Z,{className:"w-4 h-4"})}),"aprobado"===e.estado&&(0,t.jsxs)(l.z,{onClick:()=>k(e.id,e.servicio_id),variant:"outline",size:"sm",className:"text-success-600 hover:text-success-700",children:[(0,t.jsx)(u.Z,{className:"w-4 h-4 mr-1"}),"Liberar"]})]})})]},e.id)})})]})}),f.pages>1&&(0,t.jsxs)("div",{className:"flex items-center justify-between mt-6",children:[(0,t.jsxs)("div",{className:"text-sm text-gray-600",children:["Mostrando ",(f.page-1)*f.limit+1," a ",Math.min(f.page*f.limit,f.total)," de ",f.total," resultados"]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsxs)(l.z,{onClick:()=>y(e=>({...e,page:e.page-1})),disabled:1===f.page,variant:"outline",size:"sm",children:[(0,t.jsx)(p.Z,{className:"w-4 h-4"}),"Anterior"]}),(0,t.jsxs)("span",{className:"text-sm text-gray-600",children:["P\xe1gina ",f.page," de ",f.pages]}),(0,t.jsxs)(l.z,{onClick:()=>y(e=>({...e,page:e.page+1})),disabled:f.page===f.pages,variant:"outline",size:"sm",children:["Siguiente",(0,t.jsx)(g.Z,{className:"w-4 h-4"})]})]})]})]})]})}var v=a(4822),f=a(1298),y=a(6141),b=a(5790),w=a(5750);function Z(e){let{showStats:s=!0}=e,[a,c]=(0,i.useState)([]),[x,h]=(0,i.useState)(null),[j,p]=(0,i.useState)(!0),[g,N]=(0,i.useState)(!1),[Z,C]=(0,i.useState)(null);(0,i.useEffect)(()=>{S()},[]);let S=async()=>{try{N(!0),c([]),h({totalPayouts:0,totalPaid:0,totalCommission:0,pendingPayouts:0,latestPayout:null,averagePayout:0}),C(null)}catch(a){var e,s;C((null===(s=a.response)||void 0===s?void 0:null===(e=s.data)||void 0===e?void 0:e.error)||"Error interno del servidor")}finally{p(!1),N(!1)}},z=async e=>{if(confirm("\xbfEst\xe1 seguro de procesar este payout?"))try{alert("Payout procesado exitosamente (simulado)"),S()}catch(e){C("Error al procesar el payout")}};return j?(0,t.jsx)(r.Zb,{className:"w-full",children:(0,t.jsxs)(r.aY,{className:"flex items-center justify-center py-8",children:[(0,t.jsx)(d.Z,{className:"w-6 h-6 animate-spin mr-2"}),(0,t.jsx)("span",{children:"Cargando payouts..."})]})}):(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsxs)(r.Zb,{className:"w-full",children:[(0,t.jsx)(r.Ol,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)(r.ll,{className:"flex items-center",children:[(0,t.jsx)(v.Z,{className:"w-5 h-5 mr-2"}),"Gesti\xf3n de Payouts"]}),(0,t.jsx)(r.SZ,{children:"Administra los pagos a profesionales"})]}),(0,t.jsxs)(l.z,{onClick:S,disabled:g,variant:"outline",children:[g?(0,t.jsx)(d.Z,{className:"w-4 h-4 mr-2 animate-spin"}):(0,t.jsx)(m.Z,{className:"w-4 h-4 mr-2"}),"Actualizar"]})]})}),(0,t.jsxs)(r.aY,{children:[Z&&(0,t.jsx)("div",{className:"mb-6 p-4 bg-danger-50 border border-danger-200 rounded-lg",children:(0,t.jsxs)("p",{className:"text-sm text-danger-800 flex items-center",children:[(0,t.jsx)(o.Z,{className:"w-4 h-4 mr-2"}),Z]})}),s&&x&&(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,t.jsx)(r.Zb,{children:(0,t.jsx)(r.aY,{className:"pt-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Total Pagado"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-success-600",children:(0,n.xG)(x.totalPaid)})]}),(0,t.jsx)(f.Z,{className:"w-8 h-8 text-success-600"})]})})}),(0,t.jsx)(r.Zb,{children:(0,t.jsx)(r.aY,{className:"pt-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Payouts Completados"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-primary-600",children:x.totalPayouts})]}),(0,t.jsx)(u.Z,{className:"w-8 h-8 text-primary-600"})]})})}),(0,t.jsx)(r.Zb,{children:(0,t.jsx)(r.aY,{className:"pt-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Pendientes"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-warning-600",children:x.pendingPayouts})]}),(0,t.jsx)(y.Z,{className:"w-8 h-8 text-warning-600"})]})})}),(0,t.jsx)(r.Zb,{children:(0,t.jsx)(r.aY,{className:"pt-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Promedio"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-primary-600",children:(0,n.xG)(x.averagePayout)})]}),(0,t.jsx)(b.Z,{className:"w-8 h-8 text-primary-600"})]})})})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"text-lg font-medium",children:"Payouts Pendientes"}),0===a.length?(0,t.jsxs)("div",{className:"text-center py-8 border-2 border-dashed rounded-lg",children:[(0,t.jsx)(v.Z,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No hay payouts pendientes"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Todos los payouts han sido procesados"})]}):(0,t.jsx)("div",{className:"space-y-4",children:a.map(e=>{var s;return(0,t.jsx)(r.Zb,{className:"border-l-4 border-l-warning-500",children:(0,t.jsxs)(r.aY,{className:"pt-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-warning-100 rounded-full flex items-center justify-center",children:(0,t.jsx)(y.Z,{className:"w-5 h-5 text-warning-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium text-gray-900",children:e.profesional.nombre}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:(null===(s=e.servicio)||void 0===s?void 0:s.descripcion)||"Servicio completado"}),(0,t.jsxs)("p",{className:"text-xs text-gray-500",children:["Solicitado: ",(0,n.o0)(e.creado_en)]})]})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("p",{className:"text-xl font-bold text-success-600 mb-2",children:(0,n.xG)(e.monto_neto)}),(0,t.jsxs)("div",{className:"flex space-x-2",children:[(0,t.jsxs)(l.z,{onClick:()=>z(e.id),size:"sm",className:"bg-success-600 hover:bg-success-700",children:[(0,t.jsx)(u.Z,{className:"w-4 h-4 mr-1"}),"Procesar"]}),(0,t.jsx)(l.z,{variant:"outline",size:"sm",children:"Ver Detalles"})]})]})]}),(0,t.jsxs)("div",{className:"mt-4 pt-4 border-t grid grid-cols-3 gap-4 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Monto Bruto:"}),(0,t.jsx)("p",{className:"font-medium",children:(0,n.xG)(e.monto_bruto)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Comisi\xf3n:"}),(0,t.jsx)("p",{className:"font-medium",children:(0,n.xG)(e.comision_plataforma)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-600",children:"M\xe9todo:"}),(0,t.jsx)("p",{className:"font-medium capitalize",children:e.metodo_pago.replace("_"," ")})]})]})]})},e.id)})})]}),(0,t.jsxs)("div",{className:"mt-8 pt-6 border-t",children:[(0,t.jsx)("h3",{className:"text-lg font-medium mb-4",children:"Resumen de Actividad Reciente"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg text-center",children:[(0,t.jsx)(w.Z,{className:"w-8 h-8 text-primary-600 mx-auto mb-2"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-primary-600",children:"0"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Profesionales Activos"})]}),(0,t.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg text-center",children:[(0,t.jsx)(u.Z,{className:"w-8 h-8 text-success-600 mx-auto mb-2"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-success-600",children:"0"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Payouts Esta Semana"})]}),(0,t.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg text-center",children:[(0,t.jsx)(f.Z,{className:"w-8 h-8 text-success-600 mx-auto mb-2"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-success-600",children:"$0"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Total Esta Semana"})]})]})]})]})]})})}var C=a(1865),S=a(7570),z=a(2160),P=a(5179),E=a(9409),_=a(2549),k=a(9883),A=a(6245),G=a(9676),F=a(9617),Y=a(1138);let O=z.Ry({nombre:z.Z_().min(1,"El nombre es requerido"),porcentaje:z.Rx().min(5,"M\xednimo 5%").max(10,"M\xe1ximo 10%"),tipo_servicio:z.Z_().optional(),descripcion:z.Z_().optional()});function T(e){let{onSuccess:s}=e,[a,n]=(0,i.useState)([]),[m,x]=(0,i.useState)(!0),[h,j]=(0,i.useState)(!1),[p,g]=(0,i.useState)(null),[N,v]=(0,i.useState)(null),[f,y]=(0,i.useState)(!1),{register:b,handleSubmit:w,reset:Z,setValue:z,formState:{errors:T}}=(0,C.cI)({resolver:(0,S.F)(O)});(0,i.useEffect)(()=>{I()},[]);let I=async()=>{try{x(!0);let e=await c.aU.getSettings();e.data.success?(n(e.data.data),g(null)):g(e.data.error||"Error al cargar configuraciones")}catch(a){var e,s;g((null===(s=a.response)||void 0===s?void 0:null===(e=s.data)||void 0===e?void 0:e.error)||"Error interno del servidor")}finally{x(!1)}},D=async e=>{j(!0),g(null);try{let a;(a=N?await c.aU.updateSetting(N,e):await c.aU.createSetting(e)).data.success?(await I(),Z(),v(null),y(!1),s&&s()):g(a.data.error||"Error al guardar configuraci\xf3n")}catch(e){var a,t;g((null===(t=e.response)||void 0===t?void 0:null===(a=t.data)||void 0===a?void 0:a.error)||"Error interno del servidor")}finally{j(!1)}},R=e=>{v(e.id),z("nombre",e.nombre),z("porcentaje",e.porcentaje),z("tipo_servicio",e.tipo_servicio||""),z("descripcion",e.descripcion||""),y(!0)},M=async e=>{if(confirm("\xbfEst\xe1 seguro de desactivar esta configuraci\xf3n de comisi\xf3n?"))try{let a=await c.aU.deactivateSetting(e);a.data.success?(await I(),s&&s()):g(a.data.error||"Error al desactivar configuraci\xf3n")}catch(e){var a,t;g((null===(t=e.response)||void 0===t?void 0:null===(a=t.data)||void 0===a?void 0:a.error)||"Error al desactivar configuraci\xf3n")}};return m?(0,t.jsx)(r.Zb,{className:"w-full",children:(0,t.jsxs)(r.aY,{className:"flex items-center justify-center py-8",children:[(0,t.jsx)(d.Z,{className:"w-6 h-6 animate-spin mr-2"}),(0,t.jsx)("span",{children:"Cargando configuraciones..."})]})}):(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsxs)(r.Zb,{className:"w-full",children:[(0,t.jsx)(r.Ol,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)(r.ll,{className:"flex items-center",children:[(0,t.jsx)(E.Z,{className:"w-5 h-5 mr-2"}),"Configuraci\xf3n de Comisiones"]}),(0,t.jsx)(r.SZ,{children:"Gestiona las tasas de comisi\xf3n de la plataforma (5-10%)"})]}),(0,t.jsx)(l.z,{onClick:()=>y(!f),variant:f?"secondary":"default",children:f?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(_.Z,{className:"w-4 h-4 mr-2"}),"Cancelar"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(k.Z,{className:"w-4 h-4 mr-2"}),"Nueva Configuraci\xf3n"]})})]})}),(0,t.jsxs)(r.aY,{children:[f&&(0,t.jsxs)(r.Zb,{className:"mb-6 border-primary-200",children:[(0,t.jsx)(r.Ol,{children:(0,t.jsx)(r.ll,{className:"text-lg",children:N?"Editar Configuraci\xf3n":"Nueva Configuraci\xf3n"})}),(0,t.jsx)(r.aY,{children:(0,t.jsxs)("form",{onSubmit:w(D),className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{htmlFor:"nombre",className:"text-sm font-medium",children:"Nombre *"}),(0,t.jsx)(P.I,{id:"nombre",placeholder:"Ej: Comisi\xf3n General",...b("nombre"),className:T.nombre?"border-danger-500":""}),T.nombre&&(0,t.jsx)("p",{className:"text-sm text-danger-600",children:T.nombre.message})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{htmlFor:"porcentaje",className:"text-sm font-medium",children:"Porcentaje (%) *"}),(0,t.jsx)(P.I,{id:"porcentaje",type:"number",step:"0.1",min:"5",max:"10",placeholder:"5.0 - 10.0",...b("porcentaje",{valueAsNumber:!0}),className:T.porcentaje?"border-danger-500":""}),T.porcentaje&&(0,t.jsx)("p",{className:"text-sm text-danger-600",children:T.porcentaje.message})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{htmlFor:"tipo_servicio",className:"text-sm font-medium",children:"Tipo de Servicio"}),(0,t.jsx)(P.I,{id:"tipo_servicio",placeholder:"Ej: limpieza, jardineria (opcional)",...b("tipo_servicio")}),(0,t.jsx)("p",{className:"text-xs text-gray-600",children:"Dejar vac\xedo para configuraci\xf3n global"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{htmlFor:"descripcion",className:"text-sm font-medium",children:"Descripci\xf3n"}),(0,t.jsx)(P.I,{id:"descripcion",placeholder:"Descripci\xf3n opcional",...b("descripcion")})]})]}),p&&(0,t.jsx)("div",{className:"p-4 bg-danger-50 border border-danger-200 rounded-lg",children:(0,t.jsxs)("p",{className:"text-sm text-danger-800 flex items-center",children:[(0,t.jsx)(o.Z,{className:"w-4 h-4 mr-2"}),p]})}),(0,t.jsxs)("div",{className:"flex space-x-3",children:[(0,t.jsx)(l.z,{type:"submit",disabled:h,children:h?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(d.Z,{className:"w-4 h-4 mr-2 animate-spin"}),"Guardando..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(A.Z,{className:"w-4 h-4 mr-2"}),N?"Actualizar":"Crear"]})}),(0,t.jsx)(l.z,{type:"button",variant:"outline",onClick:()=>{Z(),v(null),y(!1),g(null)},children:"Cancelar"})]})]})})]}),(0,t.jsx)("div",{className:"space-y-4",children:0===a.length?(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)(E.Z,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No hay configuraciones"}),(0,t.jsx)("p",{className:"text-gray-600 mb-4",children:"Crea tu primera configuraci\xf3n de comisi\xf3n"}),(0,t.jsxs)(l.z,{onClick:()=>y(!0),children:[(0,t.jsx)(k.Z,{className:"w-4 h-4 mr-2"}),"Crear Configuraci\xf3n"]})]}):a.map(e=>(0,t.jsx)(r.Zb,{className:"border-l-4 border-l-primary-500",children:(0,t.jsxs)(r.aY,{className:"pt-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-primary-100 rounded-full flex items-center justify-center",children:(0,t.jsx)(G.Z,{className:"w-6 h-6 text-primary-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:e.nombre}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:e.tipo_servicio?"Tipo: ".concat(e.tipo_servicio):"Configuraci\xf3n Global"}),e.descripcion&&(0,t.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:e.descripcion})]})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsxs)("div",{className:"text-2xl font-bold text-primary-600 mb-1",children:[e.porcentaje,"%"]}),(0,t.jsxs)("div",{className:"flex space-x-2",children:[(0,t.jsx)(l.z,{onClick:()=>R(e),variant:"outline",size:"sm",children:(0,t.jsx)(F.Z,{className:"w-4 h-4"})}),(0,t.jsx)(l.z,{onClick:()=>M(e.id),variant:"outline",size:"sm",className:"text-danger-600 hover:text-danger-700",children:(0,t.jsx)(Y.Z,{className:"w-4 h-4"})})]})]})]}),(0,t.jsxs)("div",{className:"mt-4 pt-4 border-t flex items-center justify-between text-sm text-gray-600",children:[(0,t.jsxs)("span",{children:["Creado: ",new Date(e.fecha_creacion).toLocaleDateString("es-AR")]}),(0,t.jsx)("span",{className:"flex items-center ".concat(e.activo?"text-success-600":"text-gray-500"),children:e.activo?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(u.Z,{className:"w-4 h-4 mr-1"}),"Activa"]}):"Inactiva"})]})]})},e.id))})]})]})})}var I=a(2457);function D(){var e,s;let[a,c]=(0,i.useState)("payments"),n=[{id:"payments",label:"Gesti\xf3n de Pagos",icon:x.Z,description:"Supervisa y administra todos los pagos del sistema"},{id:"payouts",label:"Gesti\xf3n de Payouts",icon:v.Z,description:"Administra los pagos a profesionales"},{id:"commissions",label:"Configuraci\xf3n de Comisiones",icon:E.Z,description:"Configura las tasas de comisi\xf3n de la plataforma"}];return(0,t.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[(0,t.jsx)("div",{className:"mb-8",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Panel de Administraci\xf3n - Pagos"}),(0,t.jsx)("p",{className:"text-gray-600 mt-2",children:"Gestiona pagos, comisiones y payouts del sistema"})]}),(0,t.jsx)("div",{className:"flex items-center space-x-4",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[(0,t.jsx)(I.Z,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:"Estado del Sistema: Operativo"})]})})]})}),(0,t.jsx)("div",{className:"mb-8",children:(0,t.jsx)("div",{className:"flex space-x-1 bg-white p-1 rounded-lg shadow-sm",children:n.map(e=>{let s=e.icon,i=a===e.id;return(0,t.jsxs)(l.z,{variant:i?"default":"ghost",onClick:()=>c(e.id),className:"flex-1 justify-start",children:[(0,t.jsx)(s,{className:"w-4 h-4 mr-2"}),e.label]},e.id)})})}),(0,t.jsx)("div",{className:"mb-6",children:(0,t.jsx)(r.Zb,{children:(0,t.jsx)(r.aY,{className:"pt-6",children:(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(()=>{let e=n.find(e=>e.id===a),s=(null==e?void 0:e.icon)||x.Z;return(0,t.jsx)(s,{className:"w-6 h-6 text-primary-600"})})(),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:null===(e=n.find(e=>e.id===a))||void 0===e?void 0:e.label}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:null===(s=n.find(e=>e.id===a))||void 0===s?void 0:s.description})]})]})})})}),(0,t.jsx)("div",{className:"space-y-6",children:(()=>{switch(a){case"payments":return(0,t.jsx)(N,{});case"payouts":return(0,t.jsx)(Z,{});case"commissions":return(0,t.jsx)(T,{});default:return null}})()}),(0,t.jsx)("div",{className:"mt-8",children:(0,t.jsxs)(r.Zb,{children:[(0,t.jsxs)(r.Ol,{children:[(0,t.jsx)(r.ll,{children:"Acciones R\xe1pidas"}),(0,t.jsx)(r.SZ,{children:"Operaciones comunes de administraci\xf3n"})]}),(0,t.jsx)(r.aY,{children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)(l.z,{variant:"outline",className:"justify-start",children:[(0,t.jsx)(x.Z,{className:"w-4 h-4 mr-2"}),"Ver Reporte de Pagos"]}),(0,t.jsxs)(l.z,{variant:"outline",className:"justify-start",children:[(0,t.jsx)(v.Z,{className:"w-4 h-4 mr-2"}),"Procesar Payouts Pendientes"]}),(0,t.jsxs)(l.z,{variant:"outline",className:"justify-start",children:[(0,t.jsx)(E.Z,{className:"w-4 h-4 mr-2"}),"Ajustes Globales"]})]})})]})})]})})}}},function(e){e.O(0,[216,592,744],function(){return e(e.s=2809)}),_N_E=e.O()}]);