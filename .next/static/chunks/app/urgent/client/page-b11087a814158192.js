(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[719],{4923:function(e,s,a){Promise.resolve().then(a.bind(a,3003))},3003:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return E}});var i=a(7437),l=a(2265),t=a(5754),r=a(7815),c=a(7929),n=a(2894),d=a(6141),o=a(3067),m=a(6142),x=a(3008),u=a(5179),h=a(3444),g=a(1298);let p=["Plomer\xeda","Electricidad","Carpinter\xeda","Jardiner\xeda","Limpieza","Reparaciones","Mudanzas","Otros"],j=[{value:"low",label:"Baja",description:"En las pr\xf3ximas horas",icon:d.Z},{value:"medium",label:"Media",description:"En la pr\xf3xima hora",icon:n.Z},{value:"high",label:"Alta",description:"Inmediatamente",icon:n.Z}];function f(e){let{onSubmit:s,onLocationRequest:a,isLoading:d=!1}=e,[o,x]=(0,l.useState)({description:"",latitude:0,longitude:0,urgency_level:"medium",special_requirements:"",estimated_budget:void 0,service_category:""}),[f,b]=(0,l.useState)("idle"),[N,v]=(0,l.useState)(""),[y,w]=(0,l.useState)(""),Z=async()=>{b("loading"),v("");try{let e=await a();x(s=>({...s,latitude:e.latitude,longitude:e.longitude})),b("success")}catch(e){b("error"),v(e instanceof Error?e.message:"Error obteniendo ubicaci\xf3n")}},C=async e=>{if(e.preventDefault(),w(""),!o.description.trim()){w("La descripci\xf3n es requerida");return}if(0===o.latitude&&0===o.longitude){w("Debes compartir tu ubicaci\xf3n");return}try{await s(o)}catch(e){w(e instanceof Error?e.message:"Error creando solicitud")}};return j.find(e=>e.value===o.urgency_level),(0,i.jsxs)(r.Zb,{className:"w-full max-w-2xl mx-auto",children:[(0,i.jsxs)(r.Ol,{children:[(0,i.jsxs)(r.ll,{className:"flex items-center gap-2",children:[(0,i.jsx)(n.Z,{className:"w-5 h-5 text-red-500"}),"Solicitud de Servicio Urgente"]}),(0,i.jsx)(r.SZ,{children:"Describe tu necesidad urgente y comparte tu ubicaci\xf3n para encontrar profesionales disponibles"})]}),(0,i.jsx)(r.aY,{children:(0,i.jsxs)("form",{onSubmit:C,className:"space-y-6",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)("label",{htmlFor:"description",className:"text-sm font-medium",children:"Descripci\xf3n del problema *"}),(0,i.jsx)(h.g,{id:"description",placeholder:"Describe detalladamente el servicio que necesitas...",value:o.description,onChange:e=>x(s=>({...s,description:e.target.value})),rows:4,required:!0})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)("label",{htmlFor:"service_category",className:"text-sm font-medium",children:"Categor\xeda de servicio"}),(0,i.jsxs)("select",{id:"service_category",value:o.service_category,onChange:e=>x(s=>({...s,service_category:e.target.value})),className:"flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[(0,i.jsx)("option",{value:"",children:"Selecciona una categor\xeda"}),p.map(e=>(0,i.jsx)("option",{value:e,children:e},e))]})]}),(0,i.jsxs)("div",{className:"space-y-3",children:[(0,i.jsx)("label",{className:"text-sm font-medium",children:"Nivel de urgencia *"}),(0,i.jsx)("div",{className:"grid gap-3",children:j.map(e=>{let s=e.icon;return(0,i.jsx)("div",{className:"p-4 border rounded-lg cursor-pointer transition-colors ".concat(o.urgency_level===e.value?"border-red-500 bg-red-50":"border-gray-200 hover:border-gray-300"),onClick:()=>x(s=>({...s,urgency_level:e.value})),children:(0,i.jsxs)("div",{className:"flex items-center gap-3",children:[(0,i.jsx)(s,{className:"w-5 h-5 ".concat("high"===e.value?"text-red-500":"text-orange-500")}),(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"font-medium",children:e.label}),(0,i.jsx)("div",{className:"text-sm text-gray-600",children:e.description})]})]})},e.value)})})]}),(0,i.jsxs)("div",{className:"space-y-3",children:[(0,i.jsx)("label",{className:"text-sm font-medium",children:"Ubicaci\xf3n *"}),(0,i.jsxs)(t.z,{type:"button",variant:"outline",onClick:Z,disabled:"loading"===f,className:"w-full",children:[(0,i.jsx)(m.Z,{className:"w-4 h-4 mr-2"}),"loading"===f?"Obteniendo ubicaci\xf3n...":"success"===f?"Ubicaci\xf3n obtenida âœ“":"Compartir ubicaci\xf3n"]}),"success"===f&&(0,i.jsxs)("div",{className:"text-sm text-green-600 flex items-center gap-1",children:[(0,i.jsx)(m.Z,{className:"w-4 h-4"}),"Ubicaci\xf3n compartida correctamente"]}),"error"===f&&(0,i.jsx)(c.bZ,{children:(0,i.jsx)(c.X,{children:N})})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)("label",{htmlFor:"special_requirements",className:"text-sm font-medium",children:"Requisitos especiales"}),(0,i.jsx)(h.g,{id:"special_requirements",placeholder:"Materiales necesarios, accesos especiales, etc.",value:o.special_requirements,onChange:e=>x(s=>({...s,special_requirements:e.target.value})),rows:2})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)("label",{htmlFor:"estimated_budget",className:"text-sm font-medium",children:"Presupuesto estimado (opcional)"}),(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)(g.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,i.jsx)(u.I,{id:"estimated_budget",type:"number",placeholder:"0",value:o.estimated_budget||"",onChange:e=>x(s=>({...s,estimated_budget:e.target.value?parseFloat(e.target.value):void 0})),className:"pl-10",min:"0",step:"0.01"})]})]}),y&&(0,i.jsx)(c.bZ,{variant:"destructive",children:(0,i.jsx)(c.X,{children:y})}),(0,i.jsx)(t.z,{type:"submit",className:"w-full",disabled:d||"success"!==f,size:"lg",children:d?"Creando solicitud...":"Enviar Solicitud Urgente"})]})})]})}var b=a(7972),N=a(2104),v=a(4280),y=a(2741),w=a(2882);let Z={pending:{label:"Buscando profesional",description:"Estamos buscando profesionales disponibles cerca de tu ubicaci\xf3n",icon:d.Z,color:"text-yellow-600",bgColor:"bg-yellow-50",borderColor:"border-yellow-200"},assigned:{label:"Profesional asignado",description:"Un profesional ha aceptado tu solicitud",icon:x.Z,color:"text-green-600",bgColor:"bg-green-50",borderColor:"border-green-200"},in_progress:{label:"En progreso",description:"El profesional est\xe1 trabajando en tu solicitud",icon:b.Z,color:"text-blue-600",bgColor:"bg-blue-50",borderColor:"border-blue-200"},completed:{label:"Completado",description:"El servicio ha sido completado exitosamente",icon:x.Z,color:"text-green-600",bgColor:"bg-green-50",borderColor:"border-green-200"},cancelled:{label:"Cancelado",description:"La solicitud ha sido cancelada",icon:N.Z,color:"text-red-600",bgColor:"bg-red-50",borderColor:"border-red-200"},expired:{label:"Expirado",description:"No se encontr\xf3 un profesional disponible",icon:N.Z,color:"text-gray-600",bgColor:"bg-gray-50",borderColor:"border-gray-200"}};function C(e){var s;let{requestId:a,onRefresh:o,onCancel:x,onContactProfessional:u}=e,[h,g]=(0,l.useState)(null),[p,j]=(0,l.useState)(!0),[f,N]=(0,l.useState)("");(0,l.useEffect)(()=>{let e={id:a,client_id:"client-1",description:"Reparaci\xf3n de grifer\xeda en ba\xf1o principal",latitude:-34.6037,longitude:-58.3816,urgency_level:"high",special_requirements:"Traer herramientas espec\xedficas",service_category:"Plomer\xeda",status:"assigned",created_at:new Date().toISOString(),updated_at:new Date().toISOString(),client:{id:"client-1",nombre:"Juan P\xe9rez",email:"juan@example.com"},assignments:[{id:"assignment-1",urgent_request_id:a,professional_id:"prof-1",assigned_at:new Date().toISOString(),status:"active",final_price:2500,notes:"Llegar\xe9 en 15 minutos",professional:{id:"prof-1",nombre:"Mar\xeda Gonz\xe1lez",telefono:"+5491123456789",email:"maria@example.com"}}]};setTimeout(()=>{g(e),j(!1)},1e3)},[a]);let C=async()=>{if(o){j(!0);try{await o()}catch(e){N("Error al actualizar el estado")}finally{j(!1)}}},_=async()=>{if(x&&(null==h?void 0:h.status)==="pending")try{await x(),g(e=>e?{...e,status:"cancelled"}:null)}catch(e){N("Error al cancelar la solicitud")}};if(p)return(0,i.jsx)(r.Zb,{className:"w-full max-w-2xl mx-auto",children:(0,i.jsx)(r.aY,{className:"p-6",children:(0,i.jsxs)("div",{className:"flex items-center justify-center",children:[(0,i.jsx)(v.Z,{className:"w-6 h-6 animate-spin mr-2"}),(0,i.jsx)("span",{children:"Cargando estado de la solicitud..."})]})})});if(!h)return(0,i.jsx)(r.Zb,{className:"w-full max-w-2xl mx-auto",children:(0,i.jsx)(r.aY,{className:"p-6",children:(0,i.jsx)(c.bZ,{children:(0,i.jsx)(c.X,{children:"No se pudo cargar la informaci\xf3n de la solicitud."})})})});let S=Z[h.status],E=S.icon,z=null===(s=h.assignments)||void 0===s?void 0:s.find(e=>"active"===e.status);return(0,i.jsxs)(r.Zb,{className:"w-full max-w-2xl mx-auto",children:[(0,i.jsxs)(r.Ol,{children:[(0,i.jsxs)(r.ll,{className:"flex items-center gap-2",children:[(0,i.jsx)(E,{className:"w-5 h-5 ".concat(S.color)}),"Estado de tu Solicitud Urgente"]}),(0,i.jsxs)(r.SZ,{children:["ID de solicitud: ",h.id]})]}),(0,i.jsxs)(r.aY,{className:"space-y-6",children:[(0,i.jsx)("div",{className:"p-4 rounded-lg border ".concat(S.bgColor," ").concat(S.borderColor),children:(0,i.jsxs)("div",{className:"flex items-center gap-3",children:[(0,i.jsx)(E,{className:"w-6 h-6 ".concat(S.color)}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"font-medium text-gray-900",children:S.label}),(0,i.jsx)("p",{className:"text-sm text-gray-600",children:S.description})]})]})}),(0,i.jsxs)("div",{className:"space-y-3",children:[(0,i.jsx)("h4",{className:"font-medium text-gray-900",children:"Detalles de la solicitud"}),(0,i.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 space-y-2",children:[(0,i.jsxs)("div",{className:"flex items-start gap-2",children:[(0,i.jsx)(n.Z,{className:"w-4 h-4 text-gray-500 mt-0.5"}),(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"text-sm font-medium",children:"Descripci\xf3n"}),(0,i.jsx)("p",{className:"text-sm text-gray-600",children:h.description})]})]}),(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)(m.Z,{className:"w-4 h-4 text-gray-500"}),(0,i.jsxs)("span",{className:"text-sm text-gray-600",children:["Ubicaci\xf3n: ",h.latitude.toFixed(4),", ",h.longitude.toFixed(4)]})]}),(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)(d.Z,{className:"w-4 h-4 text-gray-500"}),(0,i.jsxs)("span",{className:"text-sm text-gray-600",children:["Creada: ",new Date(h.created_at).toLocaleString("es-AR")]})]}),h.service_category&&(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)(b.Z,{className:"w-4 h-4 text-gray-500"}),(0,i.jsxs)("span",{className:"text-sm text-gray-600",children:["Categor\xeda: ",h.service_category]})]})]})]}),z&&(0,i.jsxs)("div",{className:"space-y-3",children:[(0,i.jsx)("h4",{className:"font-medium text-gray-900",children:"Profesional asignado"}),(0,i.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{className:"flex items-center gap-3",children:[(0,i.jsx)("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:(0,i.jsx)(b.Z,{className:"w-5 h-5 text-green-600"})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"font-medium text-gray-900",children:z.professional.nombre}),(0,i.jsx)("p",{className:"text-sm text-gray-600",children:z.professional.email})]})]}),(0,i.jsxs)("div",{className:"text-right",children:[(0,i.jsxs)("p",{className:"text-sm font-medium text-gray-900",children:["$",z.final_price]}),(0,i.jsx)("p",{className:"text-xs text-gray-600",children:"Precio final"})]})]}),z.notes&&(0,i.jsx)("div",{className:"mt-3 p-3 bg-white rounded border",children:(0,i.jsx)("p",{className:"text-sm text-gray-700",children:z.notes})}),(0,i.jsxs)("div",{className:"mt-3 flex gap-2",children:[(0,i.jsxs)(t.z,{size:"sm",variant:"outline",onClick:()=>null==u?void 0:u(z),children:[(0,i.jsx)(y.Z,{className:"w-4 h-4 mr-1"}),"Llamar"]}),(0,i.jsxs)(t.z,{size:"sm",variant:"outline",onClick:()=>null==u?void 0:u(z),children:[(0,i.jsx)(w.Z,{className:"w-4 h-4 mr-1"}),"Mensaje"]})]})]})]}),f&&(0,i.jsx)(c.bZ,{variant:"destructive",children:(0,i.jsx)(c.X,{children:f})}),(0,i.jsxs)("div",{className:"flex gap-3",children:[(0,i.jsxs)(t.z,{variant:"outline",onClick:C,disabled:p,children:[(0,i.jsx)(v.Z,{className:"w-4 h-4 mr-2 ".concat(p?"animate-spin":"")}),"Actualizar"]}),"pending"===h.status&&x&&(0,i.jsx)(t.z,{variant:"destructive",onClick:_,children:"Cancelar solicitud"})]})]})]})}var _=a(2245);function S(e){let{latitude:s,longitude:a,serviceCategory:n,onContactProfessional:o}=e,[x,u]=(0,l.useState)(null),[h,g]=(0,l.useState)(!0),[p,j]=(0,l.useState)("");return((0,l.useEffect)(()=>{let e={professionals_found:3,radius_searched:5,service_category:n,professionals:[{id:"prof-1",nombre:"Mar\xeda Gonz\xe1lez",especialidad:"Plomer\xeda",distance:2.3,estimated_arrival:15,rating:4.8},{id:"prof-2",nombre:"Carlos Rodr\xedguez",especialidad:"Plomer\xeda",distance:3.1,estimated_arrival:25,rating:4.6},{id:"prof-3",nombre:"Ana L\xf3pez",especialidad:"Plomer\xeda",distance:4.2,estimated_arrival:35,rating:4.9}]};setTimeout(()=>{u(e),g(!1)},1500)},[s,a,n]),h)?(0,i.jsx)(r.Zb,{className:"w-full max-w-2xl mx-auto",children:(0,i.jsx)(r.aY,{className:"p-6",children:(0,i.jsxs)("div",{className:"flex items-center justify-center",children:[(0,i.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary-600 mr-2"}),(0,i.jsx)("span",{children:"Buscando profesionales cercanos..."})]})})}):p?(0,i.jsx)(r.Zb,{className:"w-full max-w-2xl mx-auto",children:(0,i.jsx)(r.aY,{className:"p-6",children:(0,i.jsx)(c.bZ,{variant:"destructive",children:(0,i.jsx)(c.X,{children:p})})})}):x&&0!==x.professionals.length?(0,i.jsxs)(r.Zb,{className:"w-full max-w-2xl mx-auto",children:[(0,i.jsxs)(r.Ol,{children:[(0,i.jsxs)(r.ll,{className:"flex items-center gap-2",children:[(0,i.jsx)(m.Z,{className:"w-5 h-5 text-green-600"}),"Profesionales Cercanos"]}),(0,i.jsxs)(r.SZ,{children:[x.professionals_found," profesionales encontrados en ",x.radius_searched,"km",n&&" especializados en ".concat(n)]})]}),(0,i.jsxs)(r.aY,{className:"space-y-4",children:[x.professionals.map(e=>(0,i.jsx)("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-gray-300 transition-colors",children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{className:"flex items-center gap-3",children:[(0,i.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:(0,i.jsx)(b.Z,{className:"w-6 h-6 text-blue-600"})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"font-medium text-gray-900",children:e.nombre}),(0,i.jsx)("p",{className:"text-sm text-gray-600",children:e.especialidad}),(0,i.jsxs)("div",{className:"flex items-center gap-4 mt-1",children:[(0,i.jsxs)("div",{className:"flex items-center gap-1",children:[(0,i.jsx)(_.Z,{className:"w-4 h-4 text-yellow-500 fill-current"}),(0,i.jsx)("span",{className:"text-sm text-gray-600",children:e.rating})]}),(0,i.jsxs)("div",{className:"flex items-center gap-1",children:[(0,i.jsx)(m.Z,{className:"w-4 h-4 text-gray-500"}),(0,i.jsxs)("span",{className:"text-sm text-gray-600",children:[e.distance,"km"]})]}),(0,i.jsxs)("div",{className:"flex items-center gap-1",children:[(0,i.jsx)(d.Z,{className:"w-4 h-4 text-gray-500"}),(0,i.jsxs)("span",{className:"text-sm text-gray-600",children:[e.estimated_arrival,"min"]})]})]})]})]}),(0,i.jsxs)("div",{className:"flex gap-2",children:[(0,i.jsxs)(t.z,{size:"sm",variant:"outline",onClick:()=>null==o?void 0:o(e.id),children:[(0,i.jsx)(y.Z,{className:"w-4 h-4 mr-1"}),"Llamar"]}),(0,i.jsxs)(t.z,{size:"sm",variant:"outline",onClick:()=>null==o?void 0:o(e.id),children:[(0,i.jsx)(w.Z,{className:"w-4 h-4 mr-1"}),"Mensaje"]})]})]})},e.id)),(0,i.jsx)("div",{className:"text-center text-sm text-gray-500 mt-4",children:"Los profesionales se actualizan en tiempo real seg\xfan disponibilidad"})]})]}):(0,i.jsxs)(r.Zb,{className:"w-full max-w-2xl mx-auto",children:[(0,i.jsxs)(r.Ol,{children:[(0,i.jsxs)(r.ll,{className:"flex items-center gap-2",children:[(0,i.jsx)(m.Z,{className:"w-5 h-5 text-gray-500"}),"Profesionales Cercanos"]}),(0,i.jsx)(r.SZ,{children:"No se encontraron profesionales disponibles en tu \xe1rea"})]}),(0,i.jsx)(r.aY,{children:(0,i.jsx)(c.bZ,{children:(0,i.jsx)(c.X,{children:"Estamos expandiendo nuestra b\xfasqueda. Intenta nuevamente en unos minutos o considera una ubicaci\xf3n diferente."})})})]})}function E(){let[e,s]=(0,l.useState)("welcome"),[a,u]=(0,l.useState)(null),[h,g]=(0,l.useState)(null),[p,j]=(0,l.useState)(""),b=()=>{s("request")},N=async()=>new Promise((e,s)=>{if(!navigator.geolocation){s(Error("La geolocalizaci\xf3n no est\xe1 soportada por este navegador"));return}navigator.geolocation.getCurrentPosition(s=>{let a={latitude:s.coords.latitude,longitude:s.coords.longitude,accuracy:s.coords.accuracy,timestamp:s.timestamp};g(a),e(a)},e=>{let a="Error obteniendo ubicaci\xf3n";switch(e.code){case e.PERMISSION_DENIED:a="Permiso de ubicaci\xf3n denegado. Por favor, permite el acceso a tu ubicaci\xf3n.";break;case e.POSITION_UNAVAILABLE:a="Ubicaci\xf3n no disponible. Verifica tu conexi\xf3n GPS.";break;case e.TIMEOUT:a="Tiempo de espera agotado al obtener ubicaci\xf3n."}s(Error(a))},{enableHighAccuracy:!0,timeout:1e4,maximumAge:3e5})}),v=async e=>{try{console.log("Submitting urgent request:",e),await new Promise(e=>setTimeout(e,2e3));let a="urgent-".concat(Date.now());u(a),s("preview"),j("")}catch(e){j(e instanceof Error?e.message:"Error creando solicitud urgente")}},y=()=>{a&&s("status")},w=()=>{s("welcome"),u(null),g(null),j("")},Z=()=>(0,i.jsxs)("div",{className:"max-w-2xl mx-auto text-center space-y-6",children:[(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsx)("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto",children:(0,i.jsx)(n.Z,{className:"w-8 h-8 text-red-600"})}),(0,i.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Servicio Urgente"}),(0,i.jsx)("p",{className:"text-lg text-gray-600",children:"\xbfTienes una emergencia? Conecta instant\xe1neamente con profesionales disponibles cerca de tu ubicaci\xf3n."})]}),(0,i.jsxs)(r.Zb,{className:"text-left",children:[(0,i.jsx)(r.Ol,{children:(0,i.jsx)(r.ll,{className:"text-lg",children:"\xbfC\xf3mo funciona?"})}),(0,i.jsxs)(r.aY,{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"flex items-start gap-3",children:[(0,i.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0",children:(0,i.jsx)("span",{className:"text-sm font-medium text-blue-600",children:"1"})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"font-medium text-gray-900",children:"Describe tu necesidad"}),(0,i.jsx)("p",{className:"text-sm text-gray-600",children:"Cuenta qu\xe9 servicio urgente necesitas"})]})]}),(0,i.jsxs)("div",{className:"flex items-start gap-3",children:[(0,i.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0",children:(0,i.jsx)("span",{className:"text-sm font-medium text-blue-600",children:"2"})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"font-medium text-gray-900",children:"Comparte tu ubicaci\xf3n"}),(0,i.jsx)("p",{className:"text-sm text-gray-600",children:"Permite el acceso para encontrar profesionales cercanos"})]})]}),(0,i.jsxs)("div",{className:"flex items-start gap-3",children:[(0,i.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0",children:(0,i.jsx)("span",{className:"text-sm font-medium text-blue-600",children:"3"})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"font-medium text-gray-900",children:"Recibe confirmaci\xf3n"}),(0,i.jsx)("p",{className:"text-sm text-gray-600",children:"Un profesional aceptar\xe1 tu solicitud en minutos"})]})]}),(0,i.jsxs)("div",{className:"flex items-start gap-3",children:[(0,i.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0",children:(0,i.jsx)("span",{className:"text-sm font-medium text-blue-600",children:"4"})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"font-medium text-gray-900",children:"Servicio completado"}),(0,i.jsx)("p",{className:"text-sm text-gray-600",children:"El profesional llega y resuelve tu problema"})]})]})]})]}),(0,i.jsxs)("div",{className:"space-y-3",children:[(0,i.jsxs)(t.z,{onClick:b,size:"lg",className:"w-full max-w-sm",children:[(0,i.jsx)(n.Z,{className:"w-5 h-5 mr-2"}),"Solicitar Servicio Urgente"]}),a&&(0,i.jsxs)(t.z,{variant:"outline",onClick:y,className:"w-full max-w-sm",children:[(0,i.jsx)(d.Z,{className:"w-4 h-4 mr-2"}),"Ver Estado de mi Solicitud"]})]})]}),_=()=>(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)("div",{className:"flex items-center gap-4",children:[(0,i.jsxs)(t.z,{variant:"outline",onClick:w,children:[(0,i.jsx)(o.Z,{className:"w-4 h-4 mr-2"}),"Volver"]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Nueva Solicitud Urgente"}),(0,i.jsx)("p",{className:"text-gray-600",children:"Completa los detalles de tu solicitud"})]})]}),p&&(0,i.jsx)(c.bZ,{variant:"destructive",children:(0,i.jsx)(c.X,{children:p})}),(0,i.jsx)(f,{onSubmit:v,onLocationRequest:N})]}),E=()=>(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)("div",{className:"flex items-center gap-4",children:[(0,i.jsxs)(t.z,{variant:"outline",onClick:()=>s("request"),children:[(0,i.jsx)(o.Z,{className:"w-4 h-4 mr-2"}),"Volver"]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Profesionales Disponibles"}),(0,i.jsx)("p",{className:"text-gray-600",children:"Estos son los profesionales m\xe1s cercanos a tu ubicaci\xf3n"})]})]}),h&&(0,i.jsxs)(c.bZ,{children:[(0,i.jsx)(m.Z,{className:"h-4 w-4"}),(0,i.jsxs)(c.X,{children:["Ubicaci\xf3n compartida: ",h.latitude.toFixed(4),", ",h.longitude.toFixed(4)]})]}),(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsx)(S,{latitude:(null==h?void 0:h.latitude)||0,longitude:(null==h?void 0:h.longitude)||0,serviceCategory:"Plomer\xeda"}),(0,i.jsxs)("div",{className:"flex gap-3",children:[(0,i.jsxs)(t.z,{onClick:y,className:"flex-1",children:[(0,i.jsx)(x.Z,{className:"w-4 h-4 mr-2"}),"Ver Estado de la Solicitud"]}),(0,i.jsx)(t.z,{variant:"outline",onClick:w,children:"Nueva Solicitud"})]})]})]}),z=()=>(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)("div",{className:"flex items-center gap-4",children:[(0,i.jsxs)(t.z,{variant:"outline",onClick:w,children:[(0,i.jsx)(o.Z,{className:"w-4 h-4 mr-2"}),"Volver al Inicio"]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Estado de tu Solicitud"}),(0,i.jsx)("p",{className:"text-gray-600",children:"Monitorea el progreso de tu solicitud urgente"})]})]}),a&&(0,i.jsx)(C,{requestId:a,onCancel:async()=>{console.log("Cancelling request:",a),u(null),s("welcome")}})]});return(0,i.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,i.jsx)("div",{className:"max-w-4xl mx-auto px-4 py-8",children:(()=>{switch(e){case"welcome":default:return Z();case"request":return _();case"preview":return E();case"status":return z()}})()})})}}},function(e){e.O(0,[216,592,744],function(){return e(e.s=4923)}),_N_E=e.O()}]);