(()=>{var e={};e.id=784,e.ids=[784],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},9491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5158:e=>{"use strict";e.exports=require("http2")},5687:e=>{"use strict";e.exports=require("https")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},6224:e=>{"use strict";e.exports=require("tty")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},9566:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>o,routeModule:()=>h,tree:()=>d});var t=a(482),r=a(9108),l=a(2563),i=a.n(l),n=a(8300),c={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);a.d(s,c);let d=["",{children:["payments",{children:["professional",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,5487)),"d:\\modificaciones-front\\app\\payments\\professional\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,7968)),"d:\\modificaciones-front\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,9361,23)),"next/dist/client/components/not-found-error"]}],o=["d:\\modificaciones-front\\app\\payments\\professional\\page.tsx"],x="/payments/professional/page",m={require:a,loadChunk:()=>Promise.resolve()},h=new t.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/payments/professional/page",pathname:"/payments/professional",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},9743:(e,s,a)=>{Promise.resolve().then(a.bind(a,9094))},9094:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>D});var t=a(5344),r=a(3729),l=a(1351),i=a(6212),n=a(8117),c=a(8448),d=a(2739),o=a(6138),x=a(3733),m=a(8411),h=a(5545),u=a(6064),p=a(7925);function j({professionalId:e}){let[s,a]=(0,r.useState)(null),[j,g]=(0,r.useState)([]),[f,y]=(0,r.useState)([]),[N,b]=(0,r.useState)(!0),[v,w]=(0,r.useState)(!1),[Z,k]=(0,r.useState)(null);(0,r.useEffect)(()=>{C()},[e]);let C=async()=>{try{w(!0);let s=await n.ST.getProfessionalPayments(e);if(s.data.success){let e=s.data.data;g(e.slice(0,5));let t=e.filter(e=>"liberado"===e.estado),r=e.filter(e=>"aprobado"===e.estado),l=t.reduce((e,s)=>e+s.monto_profesional,0);r.reduce((e,s)=>e+s.monto_profesional,0);let i=t[0];a({totalPayouts:t.length,totalPaid:l,totalCommission:t.reduce((e,s)=>e+s.comision_plataforma,0),pendingPayouts:r.length,latestPayout:i?{date:i.actualizado_en,amount:i.monto_profesional}:null,averagePayout:t.length>0?l/t.length:0}),y([])}else k(s.data.error||"Error al cargar datos del dashboard")}catch(e){k(e.response?.data?.error||"Error interno del servidor")}finally{b(!1),w(!1)}};return N?t.jsx("div",{className:"space-y-6",children:t.jsx(l.Zb,{children:(0,t.jsxs)(l.aY,{className:"flex items-center justify-center py-8",children:[t.jsx(d.Z,{className:"w-6 h-6 animate-spin mr-2"}),t.jsx("span",{children:"Cargando dashboard..."})]})})}):Z?t.jsx(l.Zb,{children:t.jsx(l.aY,{className:"py-8",children:(0,t.jsxs)("div",{className:"text-center",children:[t.jsx(o.Z,{className:"w-12 h-12 text-danger-600 mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-medium text-danger-800 mb-2",children:"Error"}),t.jsx("p",{className:"text-danger-600 mb-4",children:Z}),(0,t.jsxs)(i.z,{onClick:C,variant:"outline",children:[t.jsx(x.Z,{className:"w-4 h-4 mr-2"}),"Reintentar"]})]})})}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Dashboard de Pagos"}),t.jsx("p",{className:"text-gray-600",children:"Gestiona tus ingresos y retiros"})]}),(0,t.jsxs)(i.z,{onClick:C,disabled:v,variant:"outline",children:[v?t.jsx(d.Z,{className:"w-4 h-4 mr-2 animate-spin"}):t.jsx(x.Z,{className:"w-4 h-4 mr-2"}),"Actualizar"]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,t.jsxs)(l.Zb,{children:[(0,t.jsxs)(l.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(l.ll,{className:"text-sm font-medium",children:"Total Ganado"}),t.jsx(m.Z,{className:"h-4 w-4 text-success-600"})]}),(0,t.jsxs)(l.aY,{children:[t.jsx("div",{className:"text-2xl font-bold text-success-600",children:(0,c.xG)(s?.totalPaid||0)}),(0,t.jsxs)("p",{className:"text-xs text-gray-600",children:[s?.totalPayouts||0," pago",s?.totalPayouts!==1?"s":""," completado",s?.totalPayouts!==1?"s":""]})]})]}),(0,t.jsxs)(l.Zb,{children:[(0,t.jsxs)(l.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(l.ll,{className:"text-sm font-medium",children:"Pendiente"}),t.jsx(h.Z,{className:"h-4 w-4 text-warning-600"})]}),(0,t.jsxs)(l.aY,{children:[t.jsx("div",{className:"text-2xl font-bold text-warning-600",children:(0,c.xG)(j.filter(e=>"aprobado"===e.estado).reduce((e,s)=>e+s.monto_profesional,0))}),(0,t.jsxs)("p",{className:"text-xs text-gray-600",children:[j.filter(e=>"aprobado"===e.estado).length," pago",1!==j.filter(e=>"aprobado"===e.estado).length?"s":""," aprobado",1!==j.filter(e=>"aprobado"===e.estado).length?"s":""]})]})]}),(0,t.jsxs)(l.Zb,{children:[(0,t.jsxs)(l.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(l.ll,{className:"text-sm font-medium",children:"Promedio por Servicio"}),t.jsx(u.Z,{className:"h-4 w-4 text-primary-600"})]}),(0,t.jsxs)(l.aY,{children:[t.jsx("div",{className:"text-2xl font-bold text-primary-600",children:(0,c.xG)(s?.averagePayout||0)}),t.jsx("p",{className:"text-xs text-gray-600",children:"Por servicio completado"})]})]}),(0,t.jsxs)(l.Zb,{children:[(0,t.jsxs)(l.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(l.ll,{className:"text-sm font-medium",children:"Comisiones Pagadas"}),t.jsx(p.Z,{className:"h-4 w-4 text-danger-600"})]}),(0,t.jsxs)(l.aY,{children:[t.jsx("div",{className:"text-2xl font-bold text-danger-600",children:(0,c.xG)(s?.totalCommission||0)}),t.jsx("p",{className:"text-xs text-gray-600",children:"Total de comisiones"})]})]})]}),(0,t.jsxs)(l.Zb,{children:[(0,t.jsxs)(l.Ol,{children:[t.jsx(l.ll,{children:"Pagos Recientes"}),t.jsx(l.SZ,{children:"Tus \xfaltimos pagos procesados"})]}),t.jsx(l.aY,{children:0===j.length?(0,t.jsxs)("div",{className:"text-center py-8",children:[t.jsx(m.Z,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No hay pagos"}),t.jsx("p",{className:"text-gray-600",children:"A\xfan no has recibido pagos"})]}):t.jsx("div",{className:"space-y-4",children:j.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:`w-3 h-3 rounded-full ${"liberado"===e.estado?"bg-success-500":"aprobado"===e.estado?"bg-primary-500":"bg-gray-400"}`}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.servicio?.cliente.nombre||"Cliente"}),(0,t.jsxs)("p",{className:"text-xs text-gray-600",children:[e.servicio?.descripcion||"Servicio"," • ",(0,c.p6)(e.creado_en)]})]})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsxs)("p",{className:"text-lg font-semibold text-success-600",children:["+",(0,c.xG)(e.monto_profesional)]}),(0,t.jsxs)("p",{className:"text-xs text-gray-600",children:["Comisi\xf3n: ",(0,c.xG)(e.comision_plataforma)]})]})]},e.id))})})]}),f.length>0&&t.jsx(l.Zb,{className:"border-warning-200 bg-warning-50",children:t.jsx(l.aY,{className:"pt-6",children:(0,t.jsxs)("div",{className:"flex items-center",children:[t.jsx(h.Z,{className:"w-5 h-5 text-warning-600 mr-3"}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("h3",{className:"text-sm font-medium text-warning-800",children:["Tienes ",f.length," payout",1!==f.length?"s":""," pendiente",1!==f.length?"s":""]}),t.jsx("p",{className:"text-sm text-warning-700",children:"Los fondos ser\xe1n transferidos a tu cuenta bancaria en las pr\xf3ximas 24-48 horas."})]})]})})})]})}var g=a(340),f=a(9224);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let y=(0,f.Z)("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]),N=(0,f.Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);function b({professionalId:e,period:s="month"}){let[a,h]=(0,r.useState)([]),[p,j]=(0,r.useState)(!0),[f,b]=(0,r.useState)(!1),[v,w]=(0,r.useState)(null),[Z,k]=(0,r.useState)(s);(0,r.useEffect)(()=>{C()},[e,Z]);let C=async()=>{try{b(!0);let s=await n.ST.getProfessionalPayments(e);if(s.data.success){let e=s.data.data,a=new Date,t=new Date;switch(Z){case"week":t.setDate(a.getDate()-7);break;case"month":t.setMonth(a.getMonth()-1);break;case"year":t.setFullYear(a.getFullYear()-1)}"all"!==Z&&(e=e.filter(e=>new Date(e.creado_en)>=t)),h(e),w(null)}else w(s.data.error||"Error al cargar datos de ganancias")}catch(e){w(e.response?.data?.error||"Error interno del servidor")}finally{j(!1),b(!1)}},_={week:"Esta semana",month:"Este mes",year:"Este a\xf1o",all:"Todo el tiempo"};if(p)return t.jsx(l.Zb,{className:"w-full",children:(0,t.jsxs)(l.aY,{className:"flex items-center justify-center py-8",children:[t.jsx(d.Z,{className:"w-6 h-6 animate-spin mr-2"}),t.jsx("span",{children:"Cargando resumen de ganancias..."})]})});if(v)return t.jsx(l.Zb,{className:"w-full",children:t.jsx(l.aY,{className:"py-8",children:(0,t.jsxs)("div",{className:"text-center",children:[t.jsx(o.Z,{className:"w-12 h-12 text-danger-600 mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-medium text-danger-800 mb-2",children:"Error"}),t.jsx("p",{className:"text-danger-600 mb-4",children:v}),(0,t.jsxs)(i.z,{onClick:C,variant:"outline",children:[t.jsx(x.Z,{className:"w-4 h-4 mr-2"}),"Reintentar"]})]})})});let P=(()=>{let e=a.filter(e=>"liberado"===e.estado),s=e.reduce((e,s)=>e+s.monto_profesional,0),t=e.reduce((e,s)=>e+s.comision_plataforma,0),r=e.length>0?s/e.length:0,l=new Date,i=new Date,n=new Date,c=new Date(i);switch(Z){case"week":i.setDate(l.getDate()-7),n.setDate(l.getDate()-14),c.setDate(l.getDate()-7);break;case"month":i.setMonth(l.getMonth()-1),n.setMonth(l.getMonth()-2),c.setMonth(l.getMonth()-1);break;case"year":i.setFullYear(l.getFullYear()-1),n.setFullYear(l.getFullYear()-2),c.setFullYear(l.getFullYear()-1)}let d=a.filter(e=>new Date(e.creado_en)>=n&&new Date(e.creado_en)<c&&"liberado"===e.estado).reduce((e,s)=>e+s.monto_profesional,0);return{totalEarnings:s,totalCommission:t,averageEarnings:r,completedServices:e.length,trend:d>0?(s-d)/d*100:0,previousEarnings:d}})();return(0,t.jsxs)(l.Zb,{className:"w-full",children:[t.jsx(l.Ol,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)(l.ll,{className:"flex items-center",children:[t.jsx(g.Z,{className:"w-5 h-5 mr-2"}),"Resumen de Ganancias"]}),t.jsx(l.SZ,{children:_[Z]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"flex rounded-lg border",children:Object.entries(_).map(([e,s])=>t.jsx(i.z,{variant:Z===e?"default":"ghost",size:"sm",onClick:()=>k(e),className:"rounded-none first:rounded-l-lg last:rounded-r-lg",children:s},e))}),t.jsx(i.z,{onClick:C,disabled:f,variant:"outline",size:"sm",children:f?t.jsx(d.Z,{className:"w-4 h-4 mr-2 animate-spin"}):t.jsx(x.Z,{className:"w-4 h-4 mr-2"})})]})]})}),(0,t.jsxs)(l.aY,{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{className:"p-4 border rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Total Ganado"}),t.jsx("p",{className:"text-2xl font-bold text-success-600",children:(0,c.xG)(P.totalEarnings)})]}),t.jsx(m.Z,{className:"w-8 h-8 text-success-600"})]}),0!==P.trend&&(0,t.jsxs)("div",{className:"flex items-center mt-2",children:[P.trend>0?t.jsx(u.Z,{className:"w-4 h-4 text-success-600 mr-1"}):t.jsx(y,{className:"w-4 h-4 text-danger-600 mr-1"}),(0,t.jsxs)("span",{className:`text-sm ${P.trend>0?"text-success-600":"text-danger-600"}`,children:[Math.abs(P.trend).toFixed(1),"% vs per\xedodo anterior"]})]})]}),(0,t.jsxs)("div",{className:"p-4 border rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Comisiones"}),t.jsx("p",{className:"text-2xl font-bold text-danger-600",children:(0,c.xG)(P.totalCommission)})]}),t.jsx(N,{className:"w-8 h-8 text-danger-600"})]}),(0,t.jsxs)("p",{className:"text-xs text-gray-600 mt-2",children:[(P.totalCommission/(P.totalEarnings+P.totalCommission)*100).toFixed(1),"% del total"]})]}),(0,t.jsxs)("div",{className:"p-4 border rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Servicios"}),t.jsx("p",{className:"text-2xl font-bold text-primary-600",children:P.completedServices})]}),t.jsx(g.Z,{className:"w-8 h-8 text-primary-600"})]}),t.jsx("p",{className:"text-xs text-gray-600 mt-2",children:"Completados"})]}),(0,t.jsxs)("div",{className:"p-4 border rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Promedio"}),t.jsx("p",{className:"text-2xl font-bold text-primary-600",children:(0,c.xG)(P.averageEarnings)})]}),t.jsx(u.Z,{className:"w-8 h-8 text-primary-600"})]}),t.jsx("p",{className:"text-xs text-gray-600 mt-2",children:"Por servicio"})]})]}),(0,t.jsxs)("div",{children:[t.jsx("h3",{className:"text-lg font-medium mb-4",children:"Ganancias Recientes"}),0===a.filter(e=>"liberado"===e.estado).length?(0,t.jsxs)("div",{className:"text-center py-8 border-2 border-dashed rounded-lg",children:[t.jsx(m.Z,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No hay ganancias"}),t.jsx("p",{className:"text-gray-600",children:"all"===Z?"A\xfan no has completado ning\xfan servicio":`No hay ganancias en ${_[Z].toLowerCase()}`})]}):t.jsx("div",{className:"space-y-3",children:a.filter(e=>"liberado"===e.estado).slice(0,10).map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-2 h-2 bg-success-500 rounded-full"}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.servicio?.cliente.nombre||"Cliente"}),(0,t.jsxs)("p",{className:"text-xs text-gray-600",children:[e.servicio?.descripcion||"Servicio"," • ",(0,c.p6)(e.creado_en)]})]})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsxs)("p",{className:"text-sm font-semibold text-success-600",children:["+",(0,c.xG)(e.monto_profesional)]}),(0,t.jsxs)("p",{className:"text-xs text-gray-600",children:["Comisi\xf3n: ",(0,c.xG)(e.comision_plataforma)]})]})]},e.id))})]})]})]})}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let v=(0,f.Z)("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);var w=a(8765),Z=a(7418),k=a(2704),C=a(5390),_=a(3148),P=a(6885);function S({professionalId:e,showFilters:s=!0}){let[a,m]=(0,r.useState)([]),[h,u]=(0,r.useState)([]),[p,j]=(0,r.useState)(!0),[g,f]=(0,r.useState)(!1),[y,N]=(0,r.useState)(null),[b,S]=(0,r.useState)(null),[D,q]=(0,r.useState)(""),[z,M]=(0,r.useState)("all"),[G,E]=(0,r.useState)("date"),[R,Y]=(0,r.useState)("desc");(0,r.useEffect)(()=>{T()},[e]),(0,r.useEffect)(()=>{F()},[a,D,z,G,R]);let T=async()=>{try{f(!0);let s=await n.ST.getProfessionalPayments(e);s.data.success?(m(s.data.data),N(null)):N(s.data.error||"Error al cargar transacciones")}catch(e){N(e.response?.data?.error||"Error interno del servidor")}finally{j(!1),f(!1)}},F=()=>{let e=a;D&&(e=e.filter(e=>e.servicio?.cliente.nombre.toLowerCase().includes(D.toLowerCase())||e.servicio?.descripcion.toLowerCase().includes(D.toLowerCase())||e.id.toLowerCase().includes(D.toLowerCase()))),"all"!==z&&(e=e.filter(e=>e.estado===z)),e.sort((e,s)=>{let a,t;return("date"===G?(a=new Date(e.creado_en),t=new Date(s.creado_en)):(a=e.monto_profesional,t=s.monto_profesional),"asc"===R)?a>t?1:-1:a<t?1:-1}),u(e)},A=async e=>{try{let s=await n.ST.generateReceipt(e);s.data.success&&window.open(s.data.data.receiptUrl,"_blank")}catch(e){N("Error al generar el comprobante")}},L=e=>{S(b===e?null:e)},I=e=>{G===e?Y("asc"===R?"desc":"asc"):(E(e),Y("desc"))};return p?t.jsx(l.Zb,{className:"w-full",children:(0,t.jsxs)(l.aY,{className:"flex items-center justify-center py-8",children:[t.jsx(d.Z,{className:"w-6 h-6 animate-spin mr-2"}),t.jsx("span",{children:"Cargando transacciones..."})]})}):y?t.jsx(l.Zb,{className:"w-full",children:t.jsx(l.aY,{className:"py-8",children:(0,t.jsxs)("div",{className:"text-center",children:[t.jsx(o.Z,{className:"w-12 h-12 text-danger-600 mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-medium text-danger-800 mb-2",children:"Error"}),t.jsx("p",{className:"text-danger-600 mb-4",children:y}),(0,t.jsxs)(i.z,{onClick:T,variant:"outline",children:[t.jsx(x.Z,{className:"w-4 h-4 mr-2"}),"Reintentar"]})]})})}):(0,t.jsxs)(l.Zb,{className:"w-full",children:[(0,t.jsxs)(l.Ol,{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)(l.ll,{className:"flex items-center",children:[t.jsx(v,{className:"w-5 h-5 mr-2"}),"Lista de Transacciones"]}),(0,t.jsxs)(l.SZ,{children:[h.length," de ",a.length," transacciones"]})]}),(0,t.jsxs)(i.z,{onClick:T,disabled:g,variant:"outline",size:"sm",children:[g?t.jsx(d.Z,{className:"w-4 h-4 mr-2 animate-spin"}):t.jsx(x.Z,{className:"w-4 h-4 mr-2"}),"Actualizar"]})]}),s&&(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 mt-4",children:[t.jsx("div",{className:"flex-1",children:(0,t.jsxs)("div",{className:"relative",children:[t.jsx(w.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),t.jsx("input",{type:"text",placeholder:"Buscar por cliente, servicio o ID...",value:D,onChange:e=>q(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx(Z.Z,{className:"w-4 h-4 text-gray-400"}),(0,t.jsxs)("select",{value:z,onChange:e=>M(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[t.jsx("option",{value:"all",children:"Todos los estados"}),t.jsx("option",{value:"pendiente",children:"Pendiente"}),t.jsx("option",{value:"aprobado",children:"Aprobado"}),t.jsx("option",{value:"liberado",children:"Liberado"}),t.jsx("option",{value:"rechazado",children:"Rechazado"}),t.jsx("option",{value:"cancelado",children:"Cancelado"})]})]})]})]}),t.jsx(l.aY,{children:0===h.length?(0,t.jsxs)("div",{className:"text-center py-8",children:[t.jsx(v,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:0===a.length?"No hay transacciones":"No se encontraron resultados"}),t.jsx("p",{className:"text-gray-600",children:0===a.length?"A\xfan no has recibido pagos":"Intenta ajustar los filtros de b\xfasqueda"})]}):(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"hidden md:grid grid-cols-12 gap-4 p-3 bg-gray-50 rounded-lg font-medium text-sm text-gray-700",children:[t.jsx("div",{className:"col-span-3",children:(0,t.jsxs)("button",{onClick:()=>I("date"),className:"flex items-center hover:text-gray-900",children:["Fecha","date"===G&&("asc"===R?t.jsx(k.Z,{className:"w-4 h-4 ml-1"}):t.jsx(C.Z,{className:"w-4 h-4 ml-1"}))]})}),t.jsx("div",{className:"col-span-4",children:"Cliente / Servicio"}),t.jsx("div",{className:"col-span-2",children:"Estado"}),t.jsx("div",{className:"col-span-2",children:(0,t.jsxs)("button",{onClick:()=>I("amount"),className:"flex items-center hover:text-gray-900",children:["Monto","amount"===G&&("asc"===R?t.jsx(k.Z,{className:"w-4 h-4 ml-1"}):t.jsx(C.Z,{className:"w-4 h-4 ml-1"}))]})}),t.jsx("div",{className:"col-span-1",children:"Acciones"})]}),h.map(e=>(0,t.jsxs)("div",{className:"border rounded-lg overflow-hidden",children:[(0,t.jsxs)("div",{className:"md:hidden p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:`w-3 h-3 rounded-full ${"liberado"===e.estado?"bg-success-500":"aprobado"===e.estado?"bg-primary-500":"pendiente"===e.estado?"bg-warning-500":"bg-danger-500"}`}),t.jsx("span",{className:`text-sm font-medium ${(0,c.Dx)(e.estado)}`,children:(0,c.Ny)(e.estado)})]}),t.jsx("span",{className:"text-lg font-semibold text-success-600",children:(0,c.xG)(e.monto_profesional)})]}),(0,t.jsxs)("div",{className:"space-y-1 text-sm text-gray-600",children:[(0,t.jsxs)("p",{children:[t.jsx("strong",{children:"Cliente:"})," ",e.servicio?.cliente.nombre]}),(0,t.jsxs)("p",{children:[t.jsx("strong",{children:"Servicio:"})," ",e.servicio?.descripcion]}),(0,t.jsxs)("p",{children:[t.jsx("strong",{children:"Fecha:"})," ",(0,c.o0)(e.creado_en)]}),(0,t.jsxs)("p",{children:[t.jsx("strong",{children:"ID:"})," ",e.id]})]}),(0,t.jsxs)("div",{className:"flex space-x-2 mt-3",children:[(0,t.jsxs)(i.z,{onClick:()=>L(e.id),variant:"outline",size:"sm",className:"flex-1",children:[t.jsx(_.Z,{className:"w-4 h-4 mr-2"}),"Detalles"]}),"aprobado"===e.estado||"liberado"===e.estado?(0,t.jsxs)(i.z,{onClick:()=>A(e.id),variant:"outline",size:"sm",className:"flex-1",children:[t.jsx(P.Z,{className:"w-4 h-4 mr-2"}),"Recibo"]}):null]})]}),(0,t.jsxs)("div",{className:"hidden md:grid grid-cols-12 gap-4 p-4 items-center",children:[t.jsx("div",{className:"col-span-3 text-sm text-gray-600",children:(0,c.o0)(e.creado_en)}),(0,t.jsxs)("div",{className:"col-span-4",children:[t.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.servicio?.cliente.nombre}),t.jsx("div",{className:"text-sm text-gray-600 truncate",children:e.servicio?.descripcion})]}),t.jsx("div",{className:"col-span-2",children:t.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${(0,c.Dx)(e.estado)}`,children:(0,c.Ny)(e.estado)})}),(0,t.jsxs)("div",{className:"col-span-2",children:[t.jsx("div",{className:"text-sm font-semibold text-success-600",children:(0,c.xG)(e.monto_profesional)}),(0,t.jsxs)("div",{className:"text-xs text-gray-600",children:["Comisi\xf3n: ",(0,c.xG)(e.comision_plataforma)]})]}),t.jsx("div",{className:"col-span-1",children:t.jsx(i.z,{onClick:()=>L(e.id),variant:"ghost",size:"sm",children:t.jsx(_.Z,{className:"w-4 h-4"})})})]}),b===e.id&&(0,t.jsxs)("div",{className:"border-t bg-gray-50 p-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,t.jsxs)("div",{children:[t.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Detalles del Pago"}),(0,t.jsxs)("dl",{className:"space-y-1",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[t.jsx("dt",{className:"text-gray-600",children:"ID de Pago:"}),t.jsx("dd",{className:"font-mono text-xs",children:e.id})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[t.jsx("dt",{className:"text-gray-600",children:"Monto Total:"}),t.jsx("dd",{className:"font-medium",children:(0,c.xG)(e.monto_total)})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[t.jsx("dt",{className:"text-gray-600",children:"Comisi\xf3n Plataforma:"}),t.jsx("dd",{children:(0,c.xG)(e.comision_plataforma)})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[t.jsx("dt",{className:"text-gray-600",children:"Monto Profesional:"}),t.jsx("dd",{className:"font-medium text-success-600",children:(0,c.xG)(e.monto_profesional)})]}),e.commission_setting&&(0,t.jsxs)("div",{className:"flex justify-between",children:[t.jsx("dt",{className:"text-gray-600",children:"Tasa de Comisi\xf3n:"}),(0,t.jsxs)("dd",{children:[e.commission_setting.porcentaje,"%"]})]})]})]}),(0,t.jsxs)("div",{children:[t.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Informaci\xf3n del Servicio"}),(0,t.jsxs)("dl",{className:"space-y-1",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[t.jsx("dt",{className:"text-gray-600",children:"Cliente:"}),t.jsx("dd",{children:e.servicio?.cliente.nombre})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[t.jsx("dt",{className:"text-gray-600",children:"Email:"}),t.jsx("dd",{className:"text-xs",children:e.servicio?.cliente.email})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[t.jsx("dt",{className:"text-gray-600",children:"Servicio:"}),t.jsx("dd",{children:e.servicio?.descripcion})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[t.jsx("dt",{className:"text-gray-600",children:"Urgente:"}),t.jsx("dd",{children:e.servicio?.es_urgente?"S\xed":"No"})]})]})]})]}),t.jsx("div",{className:"flex justify-end space-x-2 mt-4 pt-4 border-t",children:"aprobado"===e.estado||"liberado"===e.estado?(0,t.jsxs)(i.z,{onClick:()=>A(e.id),variant:"outline",size:"sm",children:[t.jsx(P.Z,{className:"w-4 h-4 mr-2"}),"Descargar Comprobante"]}):null})]})]},e.id))]})})]})}function D(){let[e,s]=(0,r.useState)("dashboard"),a=[{id:"dashboard",label:"Dashboard",icon:p.Z,description:"Vista general de tus ingresos y payouts"},{id:"earnings",label:"Resumen de Ganancias",icon:u.Z,description:"An\xe1lisis detallado de tus ganancias"},{id:"transactions",label:"Transacciones",icon:v,description:"Lista completa de tus pagos y transacciones"}];return t.jsx("div",{className:"min-h-screen bg-gray-50",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[(0,t.jsxs)("div",{className:"mb-8",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Pagos - Profesional"}),t.jsx("p",{className:"text-gray-600 mt-2",children:"Gestiona tus ingresos, comisiones y retiros"})]}),t.jsx("div",{className:"mb-8",children:t.jsx("div",{className:"flex space-x-1 bg-white p-1 rounded-lg shadow-sm",children:a.map(a=>{let r=a.icon,l=e===a.id;return(0,t.jsxs)(i.z,{variant:l?"default":"ghost",onClick:()=>s(a.id),className:"flex-1 justify-start",children:[t.jsx(r,{className:"w-4 h-4 mr-2"}),a.label]},a.id)})})}),t.jsx("div",{className:"mb-6",children:t.jsx(l.Zb,{children:t.jsx(l.aY,{className:"pt-6",children:(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(()=>{let s=a.find(s=>s.id===e),r=s?.icon||g.Z;return t.jsx(r,{className:"w-6 h-6 text-primary-600"})})(),(0,t.jsxs)("div",{children:[t.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:a.find(s=>s.id===e)?.label}),t.jsx("p",{className:"text-sm text-gray-600",children:a.find(s=>s.id===e)?.description})]})]})})})}),t.jsx("div",{className:"space-y-6",children:(()=>{switch(e){case"dashboard":return t.jsx(j,{professionalId:"prof-1"});case"earnings":return t.jsx(b,{professionalId:"prof-1"});case"transactions":return t.jsx(S,{professionalId:"prof-1"});default:return null}})()})]})})}},6212:(e,s,a)=>{"use strict";a.d(s,{z:()=>i});var t=a(5344),r=a(3729),l=a(8448);let i=r.forwardRef(({className:e,variant:s="default",size:a="default",...r},i)=>t.jsx("button",{className:(0,l.cn)("inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none",{default:"bg-primary-600 text-white hover:bg-primary-700",destructive:"bg-danger-600 text-white hover:bg-danger-700",outline:"border border-gray-300 bg-white hover:bg-gray-50",secondary:"bg-secondary-100 text-secondary-900 hover:bg-secondary-200",ghost:"hover:bg-gray-100",link:"underline-offset-4 hover:underline text-primary-600"}[s],{default:"h-10 py-2 px-4",sm:"h-9 px-3 rounded-md",lg:"h-11 px-8 rounded-md",icon:"h-10 w-10"}[a],e),ref:i,...r}));i.displayName="Button"},1351:(e,s,a)=>{"use strict";a.d(s,{Ol:()=>n,SZ:()=>d,Zb:()=>i,aY:()=>o,ll:()=>c});var t=a(5344),r=a(3729),l=a(8448);let i=r.forwardRef(({className:e,...s},a)=>t.jsx("div",{ref:a,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-soft",e),...s}));i.displayName="Card";let n=r.forwardRef(({className:e,...s},a)=>t.jsx("div",{ref:a,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",e),...s}));n.displayName="CardHeader";let c=r.forwardRef(({className:e,...s},a)=>t.jsx("h3",{ref:a,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",e),...s}));c.displayName="CardTitle";let d=r.forwardRef(({className:e,...s},a)=>t.jsx("p",{ref:a,className:(0,l.cn)("text-sm text-muted-foreground",e),...s}));d.displayName="CardDescription";let o=r.forwardRef(({className:e,...s},a)=>t.jsx("div",{ref:a,className:(0,l.cn)("p-6 pt-0",e),...s}));o.displayName="CardContent",r.forwardRef(({className:e,...s},a)=>t.jsx("div",{ref:a,className:(0,l.cn)("flex items-center p-6 pt-0",e),...s})).displayName="CardFooter"},6138:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,a(9224).Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},340:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,a(9224).Z)("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},5390:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,a(9224).Z)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},2704:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,a(9224).Z)("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]])},8411:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,a(9224).Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},6885:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,a(9224).Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},3148:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,a(9224).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},7418:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,a(9224).Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]])},2739:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,a(9224).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},3733:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,a(9224).Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},8765:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,a(9224).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},6064:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,a(9224).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},7925:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,a(9224).Z)("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]])},8448:(e,s,a)=>{"use strict";a.d(s,{Dx:()=>d,Ny:()=>o,cn:()=>l,o0:()=>c,p6:()=>n,xG:()=>i});var t=a(6815),r=a(9377);function l(...e){return(0,r.m6)((0,t.W)(e))}function i(e,s="ARS"){return new Intl.NumberFormat("es-AR",{style:"currency",currency:s,minimumFractionDigits:0,maximumFractionDigits:0}).format(e)}function n(e){let s=new Date(e);return new Intl.DateTimeFormat("es-AR",{year:"numeric",month:"short",day:"numeric"}).format(s)}function c(e){let s=new Date(e);return new Intl.DateTimeFormat("es-AR",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(s)}function d(e){switch(e){case"pendiente":return"badge-warning";case"aprobado":default:return"badge-info";case"liberado":return"badge-success";case"rechazado":case"cancelado":return"badge-danger"}}function o(e){switch(e){case"pendiente":return"Pendiente";case"aprobado":return"Aprobado";case"liberado":return"Liberado";case"rechazado":return"Rechazado";case"cancelado":return"Cancelado";default:return e}}},5487:(e,s,a)=>{"use strict";a.r(s),a.d(s,{$$typeof:()=>l,__esModule:()=>r,default:()=>i});let t=(0,a(6843).createProxy)(String.raw`d:\modificaciones-front\app\payments\professional\page.tsx`),{__esModule:r,$$typeof:l}=t,i=t.default}};var s=require("../../../webpack-runtime.js");s.C(e);var a=e=>s(s.s=e),t=s.X(0,[267,496,5],()=>a(9566));module.exports=t})();